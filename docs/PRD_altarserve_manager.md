# PRD — 성단(전례 봉사) 신자 관리 자동화 웹앱 (AltarServe Manager, 가칭)

## 1. 제품 개요
- **제품명(가칭):** AltarServe Manager (성단 매니저)  
- **한 줄 정의:** 미사/전례 일정에 맞춰 성단 봉사자를 자동 배정하고, 출결·자격·연락·통계를 한 곳에서 관리하는 웹 애플리케이션

## 2. 문제 정의
현장(본당 전례팀/성단 담당)에서 반복되는 운영 문제:
- 봉사자(신자) 정보가 엑셀/단톡/수기 등으로 분산 → 최신성/정합성 저하
- 미사별 역할(독서/해설/복사/성가/봉헌/제대회 등) 배정이 수작업 → 누락·중복·불공정
- 대체자(대타) 수급/변경 히스토리 관리 어려움
- 출결·지각·무단 결석 기록이 체계화되지 않음
- 연령/자격/교육 이수 조건을 배정에 반영하기 어려움
- 공지/리마인더가 단체방 중심 → 확인 추적/개별 맞춤 부족

## 3. 목표(Goals)
- 미사/행사별 **역할 충족률 100%**(누락 0)
- 배정 작업 시간 **80% 이상 절감**
- 봉사자 관리(연락/자격/교육/제한사항) **단일 DB화**
- 출결/수행 이력 기반 **공정 배정(로테이션)**
- 봉사자에게 **자동 알림/수락/거절/대타 요청** 흐름 제공
- 전례팀이 **통계(참여율, 결석률, 역할별 인력 부족)** 를 즉시 파악

## 4. 비목표(Non-Goals)
- 교적/헌금/본당 전체 행정 시스템 대체(연동은 추후)
- 전례문(독서문) 편집/출력 등 문헌 제작 기능
- 실시간 채팅/메신저 자체 구현(초기엔 외부 알림 연동 위주)

## 5. 사용자/페르소나
1. **전례위원장/전례팀장(관리자급):** 전체 설정, 역할 템플릿, 권한/통계
2. **미사 담당(운영자):** 특정 미사 배정/변경, 공지, 출결 입력
3. **성단 봉사자(신자):** 스케줄 확인, 수락/거절, 대타 요청/수락, 출결 확인
4. (선택) **구역장/단체장:** 소속 인원 현황, 출결/미참여 파악

## 6. 핵심 개념(도메인 모델)
- **미사/행사(Event):** 날짜/시간/장소/종류(주일, 평일, 대축일, 성사 등)
- **역할(Role):** 독서1/독서2/해설/복사(인원수)/제대회/성가/봉헌 등
- **배정(Assignment):** Event × Role에 특정 봉사자 배치
- **자격/제약(Eligibility):** 세례/견진 여부, 연령, 교육 이수, 금지 기간 등
- **출결(Attendance):** 참석/지각/결석/대타로 대체 등 상태 및 사유
- **가용성(Availability):** 봉사자별 가능 요일/미사/월별 제한, 휴가/시험 기간

## 7. 기능 요구사항

### P0 (MVP 필수)
- 봉사자(신자) 등록/수정/비활성화, 연락처, 소속(구역/단체), 기본 선호
- 역할(템플릿) 정의: 미사 유형별 필요한 역할/인원수
- 미사/행사 일정 등록(반복 생성 포함: 주일 1~4차, 평일 등)
- 배정
  - 수동 배정(캘린더/표 기반 편집)
  - 자동 추천(로테이션 + 자격조건 + 최근 수행 이력 기반 후보 제시)
- 봉사자에게 배정 알림 + **수락/거절**(모바일 웹)
- 거절 시 **대타 요청** 플로우(후보 자동 추천/일괄 요청)
- 출결 기록(담당자 입력 + 봉사자 확인)
- 공지 발송(이벤트 단위/역할 단위/전체)
- 기본 통계: 역할별 인력 부족, 참여율, 결석률, 월별 봉사 횟수

### P1 (운영 고도화)
- 교육 이수 관리(교육명, 이수일, 만료일) + 역할별 필수 교육 조건
- 봉사자 스케줄 충돌 방지(동시간 중복 배정 차단)
- 공정성 지표(최근 N주 봉사 횟수 균형)
- 대체 이력 자동 기록(누가 누구를 대체했는지)
- 체크리스트(미사 준비물/안내) 템플릿
- 카카오/문자/이메일 연동(운영비 고려해 단계적)

### P2 (확장)
- 본당/교구 단위 멀티테넌시(여러 성당 지원)
- 교적/단체DB 연동, SSO
- 봉사자 자가 출결 체크(QR/지오펜스 등) — 운영 정책 필요
- 봉사자 성장/양성 로드맵(교육-역할 레벨업)

## 8. 주요 화면/유저 플로우

### 관리자/운영자 플로우
1) 역할 템플릿 설정(미사 유형별)  
2) 일정 생성(반복) → 자동 추천 배정 → 누락 검토/수정  
3) 알림 발송 → 수락/거절 반영 → 대타 처리  
4) 미사 후 출결 입력 → 통계 확인  

### 봉사자 플로우
- 내 스케줄(캘린더) → 배정 상세 → 수락/거절  
- 거절 시 사유 + 대타 요청(후보에게 요청)  
- 월간 봉사 기록/출결 확인  

## 9. 정책/규칙(초기 제안)
- 로테이션 기본: 역할별 최근 수행자에게 패널티(최근 2주/4주 가중치)
- 무단 결석: 일정 기간 자동 제한(운영자가 해제 가능)
- 자격 조건: 역할별 “필수 교육/연령/세례·견진” 체크 옵션화
- 대축일/특별 미사: “우선 배정 그룹(숙련자)” 플래그

## 10. 성공 지표(KPI)
- 배정 완성까지 소요 시간(주당)
- 배정 누락/급변경 건수
- 수락률 / 거절률 / 대타 성사율
- 무단 결석률, 지각률
- 역할별 인력 부족 경고 빈도
- 봉사자 월평균 배정 균형도(표준편차)

## 11. 리스크/대응
- **개인정보 보호:** 최소 수집 + 접근제어 + 감사로그
- **알림 비용:** 문자/카카오 비용이 MVP 장애요소 → 초기엔 이메일/링크 중심
- **현장 수용성:** 기존 단톡 관행 → “링크 클릭으로 수락/거절” 최소 동선
- **규정 다양성:** 본당마다 다름 → 규칙을 “설정 가능한 옵션”으로 설계
